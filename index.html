<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>My Yoga Dice</title>
    <link rel="stylesheet" href="css/main.css">
    <!-- <header>My Yoga Dice</header> -->
  </head>

  <body>

    <div>
      <button id ="roll">Roll the dice</button>
    </div>

    <div class='userInput'>
      <form>
        <p>Select your level or leave it blank for all levels</p>
        <input type="radio" name="level" value="Beginner">Beginner<br>
        <input type="radio" name="level" value="Intermediate">Intermediate<br>
        <input type="radio" name="level" value="Advanced">Advanced<br>
      </form>
    </div>

  <div style="overflow-x:auto;">
      <table>
        <tr>
          <td><figure class='poseTile'>
              <img class='poseImage' src="images/question.jpg">
              <figcaption></figcaption>
            </figure></td>

            <td><figure class='poseTile'>
                <img class='poseImage' src="images/question.jpg">
                <figcaption></figcaption>
            </figure></td>

            <td><figure class='poseTile'>
                <img class='poseImage' src="images/question.jpg">
                <figcaption></figcaption>
            </figure></td>
        </tr>

        <tr>
          <td><figure class='poseTile'>
            <img class='poseImage' src="images/question.jpg">
            <figcaption></figcaption>
          </figure></td>

            <td><figure class='poseTile'>
              <img class='poseImage' src="images/question.jpg">
              <figcaption></figcaption>
            </figure></td>

            <td><figure class='poseTile'>
              <img class='poseImage' src="images/question.jpg">
              <figcaption></figcaption>
            </figure></td>
        </tr>

        <tr>
          <td><figure class='poseTile'>
            <img class='poseImage' src="images/question.jpg">
            <figcaption></figcaption>
          </figure></td>
        </tr>
      </table>
    </div>

</div>

    <script src='script/myyogadice.js'></script>
    <script lang="text/javascript">
    const poseTiles = document.getElementsByClassName("poseTile");
    let tiles = [];

    for(let element of poseTiles) {
        tiles.push(element);
    }

    const rollButton = document.getElementById('roll');
    rollButton.addEventListener('click', function() {
        const poses = die.rollTheDice(tiles.length);
        for(let i = 0; i < poses.length; i++) {
          let curTile = tiles[i];
          let imgPose = curTile.getElementsByTagName("img")[0];
          let curPose = poses[i];

          imgPose.src = curPose.image;
          imgPose.title = curPose.name;
          curTile.getElementsByTagName("figcaption")[0].innerText = curPose.caption;

          curTile.classList.remove('poseHard');
          curTile.classList.remove('poseMedium');

          switch(curPose.level) {
            case 3:
            curTile.classList.add('poseHard');
            break;

            case 2:
            curTile.classList.add('poseMedium');
            break;
          }

        }
    });
    </script>
  </body>

</html>